#!/bin/bash

# Configuration
TO="recipient@example.com"
FROM="sender@example.com"
SUBJECT="Email with HTML Body and JSON Attachment"
BOUNDARY="ZZ_/afg6432dfgkl.94531q"
HTML_FILE="/path/to/email_body.html"
JSON_FILE="/path/to/data.json"
JSON_FILENAME="data.json"

# Send the email
cat <<EOF | /usr/sbin/sendmail -t
To: $TO
From: $FROM
Subject: $SUBJECT
MIME-Version: 1.0
Content-Type: multipart/mixed; boundary="$BOUNDARY"

--$BOUNDARY
Content-Type: text/html; charset="UTF-8"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

$(cat "$HTML_FILE")

--$BOUNDARY
Content-Type: application/json; name="$JSON_FILENAME"
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename="$JSON_FILENAME"

$(base64 "$JSON_FILE")

--$BOUNDARY--
EOF
